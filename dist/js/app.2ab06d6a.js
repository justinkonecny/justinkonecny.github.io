(function(e){function t(t){for(var i,n,l=t[0],o=t[1],c=t[2],u=0,d=[];u<l.length;u++)n=l[u],s[n]&&d.push(s[n][0]),s[n]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);m&&m(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],i=!0,l=1;l<a.length;l++){var o=a[l];0!==s[o]&&(i=!1)}i&&(r.splice(t--,1),e=n(n.s=a[0]))}return e}var i={},s={app:0},r=[];function n(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=i,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var m=o;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var i=a("64a9"),s=a.n(i);s.a},"27b5":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var i=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"title",attrs:{align:"left"}},[a("svg",{staticStyle:{"padding-right":"15px",float:"left",fill:"#000000"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"70",height:"60",viewBox:"0 30 224 224"}},[a("g",{attrs:{fill:"#ffffff"}},[a("g",{attrs:{id:"surface1"}},[a("path",{attrs:{d:"M125.72,47.46c-1.54,0.21 -2.87,1.2075 -3.5,2.6425c-0.63,1.4175 -0.4725,3.08 0.42,4.3575l21.14,30.66h-46.62l-6.58,-16.24c-1.4875,-3.71 -5.0925,-6.16 -9.1,-6.16c-5.3725,0 -9.8,4.4275 -9.8,9.8v12.6h-18.34l-0.42,0.14l-34.58,6.16c-10.6225,1.925 -18.34,11.3225 -18.34,22.12v25.34c0,7.3675 6.0725,13.44 13.44,13.44h4.9c2.135,12.705 13.1775,22.4 26.46,22.4c13.2825,0 24.325,-9.695 26.46,-22.4h81.48c2.135,12.705 13.1775,22.4 26.46,22.4c13.2825,0 24.325,-9.695 26.46,-22.4h4.9c7.3675,0 13.44,-6.0725 13.44,-13.44v-24.64c0,-11.2 -8.365,-20.7725 -19.46,-22.26l-49.7,-6.58l-24.78,-35.98c-0.945,-1.435 -2.6425,-2.1875 -4.34,-1.96zM81.48,71.68c0.3675,0 0.7,0.21 0.84,0.56l5.18,12.88h-6.86v-12.6c0,-0.525 0.315,-0.84 0.84,-0.84zM53.76,94.08h98.56l51.1,6.86c6.7025,0.8925 11.62,6.5275 11.62,13.3v24.64c0,2.5375 -1.9425,4.48 -4.48,4.48h-4.9c-2.135,-12.705 -13.1775,-22.4 -26.46,-22.4c-13.2825,0 -24.325,9.695 -26.46,22.4h-81.48c-2.135,-12.705 -13.1775,-22.4 -26.46,-22.4c-13.2825,0 -24.325,9.695 -26.46,22.4h-4.9c-2.5375,0 -4.48,-1.9425 -4.48,-4.48v-25.34c0,-6.5275 4.6375,-12.1275 11.06,-13.3zM44.8,129.92c9.9575,0 17.92,7.9625 17.92,17.92c0,9.9575 -7.9625,17.92 -17.92,17.92c-9.9575,0 -17.92,-7.9625 -17.92,-17.92c0,-9.9575 7.9625,-17.92 17.92,-17.92zM179.2,129.92c9.9575,0 17.92,7.9625 17.92,17.92c-0.0175,0.1925 -0.0175,0.3675 0,0.56c-0.2975,9.6775 -8.155,17.36 -17.92,17.36c-9.9575,0 -17.92,-7.9625 -17.92,-17.92c0,-9.9575 7.9625,-17.92 17.92,-17.92z"}})])])]),a("h1",{staticClass:"header"},[e._v("Liberty Cars")])]),a("div",{staticClass:"content"},[a("ModelSelector")],1)])},r=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.renderModelSelector?a("div",[a("div",{staticClass:"model-selector"},[a("div",{staticClass:"selection"},[0===e.adList.length?a("div",{staticClass:"instructions"},[a("p",{staticClass:"text-header"},[e._v("Looking for a new car?")]),a("p",{staticClass:"text-center"},[e._v("Fill out the search options below")])]):a("div",[a("div",{staticClass:"text-header"},[a("p",[e._v("Searching for your match...")]),a("b-spinner",{staticStyle:{color:"black",margin:"20px"}})],1)]),this.window.width>600?a("div",[a("b-container",{staticClass:"parameters"},[a("b-row",[a("b-col",[a("p",{staticClass:"label"},[e._v("model")])])],1),a("b-row",[a("b-col",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"field field-model",domProps:{value:e.model},on:{input:function(t){t.target.composing||(e.model=t.target.value)}}})])],1),a("b-row",[a("b-col",[a("p",{staticClass:"label"},[e._v("min year")])]),a("b-col",[a("p",{staticClass:"label"},[e._v("max year")])])],1),a("b-row",[a("b-col",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.minYear,expression:"minYear"}],staticClass:"field",domProps:{value:e.minYear},on:{input:function(t){t.target.composing||(e.minYear=t.target.value)}}})]),a("b-col",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.maxYear,expression:"maxYear"}],staticClass:"field",domProps:{value:e.maxYear},on:{input:function(t){t.target.composing||(e.maxYear=t.target.value)}}})])],1),a("b-row",[a("b-col",[a("p",{staticClass:"label"},[e._v("min price ($)")])]),a("b-col",[a("p",{staticClass:"label"},[e._v("max price ($)")])])],1),a("b-row",[a("b-col",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.minPrice,expression:"minPrice"}],staticClass:"field",domProps:{value:e.minPrice},on:{input:function(t){t.target.composing||(e.minPrice=t.target.value)}}})]),a("b-col",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.maxPrice,expression:"maxPrice"}],staticClass:"field",domProps:{value:e.maxPrice},on:{input:function(t){t.target.composing||(e.maxPrice=t.target.value)}}})])],1),a("b-row",[a("b-col",[a("p",{staticClass:"label"},[e._v("min miles")])]),a("b-col",[a("p",{staticClass:"label"},[e._v("max miles")])])],1),a("b-row",[a("b-col",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.minMiles,expression:"minMiles"}],staticClass:"field",domProps:{value:e.minMiles},on:{input:function(t){t.target.composing||(e.minMiles=t.target.value)}}})]),a("b-col",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.maxMiles,expression:"maxMiles"}],staticClass:"field",domProps:{value:e.maxMiles},on:{input:function(t){t.target.composing||(e.maxMiles=t.target.value)}}})])],1),a("b-row",[a("b-col",[a("button",{staticClass:"button-search",on:{click:function(t){return e.updateParameters()}}},[e._v("search")])])],1)],1)],1):a("div",[a("b-container",{staticClass:"parameters-mobile"},[a("b-row",[a("b-col",[a("p",{staticClass:"label"},[e._v("model")])])],1),a("b-row",[a("b-col",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"field-mobile field-model-mobile",domProps:{value:e.model},on:{input:function(t){t.target.composing||(e.model=t.target.value)}}})])],1),a("b-row",[a("b-col",[a("p",{staticClass:"label"},[e._v("min year")])]),a("b-col",[a("p",{staticClass:"label"},[e._v("max year")])])],1),a("b-row",[a("b-col",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.minYear,expression:"minYear"}],staticClass:"field-mobile",domProps:{value:e.minYear},on:{input:function(t){t.target.composing||(e.minYear=t.target.value)}}})]),a("b-col",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.maxYear,expression:"maxYear"}],staticClass:"field-mobile",domProps:{value:e.maxYear},on:{input:function(t){t.target.composing||(e.maxYear=t.target.value)}}})])],1),a("b-row",[a("b-col",[a("p",{staticClass:"label"},[e._v("min price ($)")])]),a("b-col",[a("p",{staticClass:"label"},[e._v("max price ($)")])])],1),a("b-row",[a("b-col",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.minPrice,expression:"minPrice"}],staticClass:"field-mobile",domProps:{value:e.minPrice},on:{input:function(t){t.target.composing||(e.minPrice=t.target.value)}}})]),a("b-col",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.maxPrice,expression:"maxPrice"}],staticClass:"field-mobile",domProps:{value:e.maxPrice},on:{input:function(t){t.target.composing||(e.maxPrice=t.target.value)}}})])],1),a("b-row",[a("b-col",[a("p",{staticClass:"label"},[e._v("min miles")])]),a("b-col",[a("p",{staticClass:"label"},[e._v("max miles")])])],1),a("b-row",[a("b-col",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.minMiles,expression:"minMiles"}],staticClass:"field-mobile",domProps:{value:e.minMiles},on:{input:function(t){t.target.composing||(e.minMiles=t.target.value)}}})]),a("b-col",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.maxMiles,expression:"maxMiles"}],staticClass:"field-mobile",domProps:{value:e.maxMiles},on:{input:function(t){t.target.composing||(e.maxMiles=t.target.value)}}})])],1),a("b-row",[a("b-col",[a("button",{staticClass:"button-search-mobile",on:{click:function(t){return e.updateParameters()}}},[e._v("search")])])],1)],1)],1),e.searchFailed?a("div",[a("p",{staticClass:"error"},[e._v("It looks like something went wrong, please try again!")])]):e._e()])])]):a("div",[a("Results",{attrs:{toDisplay:e.adList}})],1)])},l=[],o=a("e814"),c=a.n(o),m=(a("28a5"),a("b6d0")),u=a.n(m),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"results"},[e.showAll?a("div",[a("h2",[e._v("Check out the results below!")]),a("br"),a("div",{staticClass:"rows"},e._l(e.toDisplay,function(t){return a("ul",{key:t.id,on:{click:function(a){return e.displayAd(t)}}},[a("div",{staticClass:"outline"},[a("b-container",{staticClass:"inner"},[a("b-row",[a("b-col",[a("img",{attrs:{src:t["image"],alt:"Image",border:"2"}})])],1),a("b-row",[a("b-col",[a("p",{staticClass:"price"},[e._v(e._s(t["price"]))]),a("p",[e._v(e._s(e._f("title")(t["title"])))])])],1)],1)],1)])}),0)]):a("div",[a("div",{staticClass:"header"},[a("button",{on:{click:function(t){return e.displayAd(e.currentAd)}}},[e._v("back")])]),a("div",{attrs:{align:"left"}},[a("b-container",[a("b-row",[a("b-col",[a("img",{staticClass:"single",attrs:{src:e.currentAd["image"],alt:"Image",border:"2"}})]),a("b-col",[a("h5",[e._v(e._s(e.currentAd["title"]))]),a("h5",[e._v("Location")]),a("h6",[e._v(e._s(e._f("splitLocation")(e.currentAd["location"])))]),a("h5",[e._v("Date Posted")]),a("h6",[e._v(e._s(e._f("date")(e.currentAd["date"])))]),a("h5",[e._v("Price")]),a("h6",[e._v(e._s(e._f("title")(e.currentAd["price"])))]),a("br"),a("p",[e._v("Check it out "),a("a",{attrs:{href:e.currentAd["link"],target:"_blank",rel:"noopener noreferrer"}},[e._v("here")]),e._v("!")]),!1!==e.currentAd["body"]?a("p",[e._v(e._s(e.currentAd["body"]))]):e._e()])],1)],1)],1)])])},p=[],v=(a("c5f6"),{name:"Results",props:{toDisplay:Array,pageStatus:Number},data:function(){return{showAll:!0,currentAd:Array}},filters:{date:function(e){return e[1]+"/"+e[2]+"/"+e[0]},lowerCase:function(e){return e.toLowerCase()},titleLower:function(e){return e.length>21?e.substring(0,22).toLowerCase()+"...":e.toLowerCase()},title:function(e){return e.length>21?e.substring(0,22)+"...":e},splitLocation:function(e){return"newjersey"===e?"New Jersey":"cnj"===e?"Central New Jersey":"jerseyshore"===e?"Jersey Shore":"southjersey"===e?"South Jersey":"delaware"===e?"Delaware":e}},methods:{displayAd:function(e){e["display"]?(e["display"]=!1,this.showAll=!0):(e["display"]=!0,this.currentAd=e,this.showAll=!1)}}}),h=v,f=(a("e419"),a("2877")),b=Object(f["a"])(h,d,p,!1,null,"7e786cd4",null),g=b.exports,w={name:"ModelSelector",components:{Results:g},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()},destroyed:function(){window.removeEventListener("resize",this.handleResize)},data:function(){return{adList:[],adTitles:new u.a,loadCount:0,renderModelSelector:!0,searchFailed:!1,parameters:{},model:"",minYear:"",maxYear:"",minPrice:"",maxPrice:"",minMiles:"",maxMiles:"",window:{width:0,height:0}}},filters:{title:function(e){return e[0].toUpperCase()+e.substr(1)}},methods:{handleResize:function(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},updateParameters:function(){this.parameters={model:this.model,minYear:this.minYear,maxYear:this.maxYear,minPrice:this.minPrice,maxPrice:this.maxPrice,minMiles:this.minMiles,maxMiles:this.maxMiles},this.executeSearch()},executeSearch:function(){for(var e=this.getUrls(),t=0;t<e.length;t++)this.getAndProcessPage(e[t],this.parseResponse,null)},getUrls:function(){var e=this.parameters["model"],t=this.parameters["minYear"],a=this.parameters["maxYear"],i=this.parameters["minPrice"],s=this.parameters["maxPrice"],r=this.parameters["minMiles"],n=this.parameters["maxMiles"];"$bmw"===e&&(e="bmw",t="2008",a="2019",i="5000",s="14000",r="50000",n="85000");var l="https://cors.io/?https://",o=".craigslist.org/search/cto?auto_transmission=2&hasPic=1&min_price="+i+"&max_auto_miles="+n+"&max_price="+s+"&auto_make_model="+e+"&min_auto_miles="+r+"&max_auto_year="+a+"&min_auto_year="+t+"&auto_title_status=1",c=l+"cnj"+o,m=l+"newjersey"+o,u=l+"southjersey"+o,d=l+"jerseyshore"+o;return[m,c,u,d]},getAndProcessPage:function(e,t,a){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState&&200===i.status){var e=document.createElement("html");e.innerHTML=i.responseText,null!=t&&(null!=a?t(e,a):t(e))}},i.open("GET",e,!0),i.send(null)},parseResponse:function(e){var t=e.getElementsByClassName("rows"),a=t.item(0).getElementsByClassName("result-row");this.searchFailed=0===a.length;for(var i=0;i<a.length;i++){var s=a.item(i),r={},n=s.getElementsByTagName("p").item(0),l=n.getElementsByTagName("a").item(0).getAttribute("href"),o=l.split(".")[0].split("//")[1];if("newyork"!==o&&"philadelphia"!==o){var m=n.getElementsByClassName("result-title").item(0).innerText;if(this.adTitles.has(m))continue;this.adTitles.add(m);var u=s.getElementsByTagName("time").item(0).getAttribute("datetime"),d=u.split(" ")[0].split("-"),p=s.getElementsByClassName("result-price").item(0).innerText,v=new Date,h=new Date(c()(d[0]),c()(d[1])-1,c()(d[2])),f=v-h;f=Math.ceil(f/864e5),f<=14&&(r["title"]=m,r["location"]=o,r["link"]=l,r["date"]=d,r["age"]=f,r["display"]=!1,r["price"]=p,r["body"]="",r["image"]="",this.adList.push(r),this.getAndProcessPage("https://cors.io/?"+l,this.setImageAndInfo,r))}}},setImageAndInfo:function(e,t){var a=e.getElementsByTagName("img");a.length>0?(t["image"]=a.item(0).getAttribute("src"),this.loadCount++):t["image"]="none";var i=e.getElementsByClassName("userbody")[0],s=i.getElementsByTagName("section")[0];t["body"]=s.innerText.substring(48)}},watch:{loadCount:function(e){e===this.adList.length&&(this.renderModelSelector=!1)}}},x=w,_=(a("ddd4"),Object(f["a"])(x,n,l,!1,null,"0a42e4d0",null)),y=_.exports,C={name:"app",components:{ModelSelector:y}},P=C,M=(a("034f"),Object(f["a"])(P,s,r,!1,null,null,null)),A=M.exports,N=a("9f7b"),Y=a.n(N);a("f9e3"),a("2dd8");i["a"].use(Y.a),i["a"].config.productionTip=!1,new i["a"]({modules:["bootstrap-vue/nuxt"],render:function(e){return e(A)}}).$mount("#app")},"64a9":function(e,t,a){},"91ce":function(e,t,a){},ddd4:function(e,t,a){"use strict";var i=a("27b5"),s=a.n(i);s.a},e419:function(e,t,a){"use strict";var i=a("91ce"),s=a.n(i);s.a}});
//# sourceMappingURL=app.2ab06d6a.js.map