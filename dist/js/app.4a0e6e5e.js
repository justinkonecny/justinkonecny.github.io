(function(e){function t(t){for(var a,r,l=t[0],o=t[1],c=t[2],u=0,d=[];u<l.length;u++)r=l[u],s[r]&&d.push(s[r][0]),s[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);m&&m(t);while(d.length)d.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],a=!0,l=1;l<i.length;l++){var o=i[l];0!==s[o]&&(a=!1)}a&&(n.splice(t--,1),e=r(r.s=i[0]))}return e}var a={},s={app:0},n=[];function r(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=a,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(i,a,function(t){return e[t]}.bind(null,a));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var m=o;n.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var a=i("64a9"),s=i.n(a);s.a},"49df":function(e,t,i){"use strict";var a=i("5f9e"),s=i.n(a);s.a},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("f751"),i("097d");var a=i("2b0e"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"title",attrs:{align:"left"}},[i("svg",{staticStyle:{"padding-right":"15px",float:"left",fill:"#000000"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"70",height:"60",viewBox:"0 30 224 224"}},[i("g",{attrs:{fill:"#ffffff"}},[i("g",{attrs:{id:"surface1"}},[i("path",{attrs:{d:"M125.72,47.46c-1.54,0.21 -2.87,1.2075 -3.5,2.6425c-0.63,1.4175 -0.4725,3.08 0.42,4.3575l21.14,30.66h-46.62l-6.58,-16.24c-1.4875,-3.71 -5.0925,-6.16 -9.1,-6.16c-5.3725,0 -9.8,4.4275 -9.8,9.8v12.6h-18.34l-0.42,0.14l-34.58,6.16c-10.6225,1.925 -18.34,11.3225 -18.34,22.12v25.34c0,7.3675 6.0725,13.44 13.44,13.44h4.9c2.135,12.705 13.1775,22.4 26.46,22.4c13.2825,0 24.325,-9.695 26.46,-22.4h81.48c2.135,12.705 13.1775,22.4 26.46,22.4c13.2825,0 24.325,-9.695 26.46,-22.4h4.9c7.3675,0 13.44,-6.0725 13.44,-13.44v-24.64c0,-11.2 -8.365,-20.7725 -19.46,-22.26l-49.7,-6.58l-24.78,-35.98c-0.945,-1.435 -2.6425,-2.1875 -4.34,-1.96zM81.48,71.68c0.3675,0 0.7,0.21 0.84,0.56l5.18,12.88h-6.86v-12.6c0,-0.525 0.315,-0.84 0.84,-0.84zM53.76,94.08h98.56l51.1,6.86c6.7025,0.8925 11.62,6.5275 11.62,13.3v24.64c0,2.5375 -1.9425,4.48 -4.48,4.48h-4.9c-2.135,-12.705 -13.1775,-22.4 -26.46,-22.4c-13.2825,0 -24.325,9.695 -26.46,22.4h-81.48c-2.135,-12.705 -13.1775,-22.4 -26.46,-22.4c-13.2825,0 -24.325,9.695 -26.46,22.4h-4.9c-2.5375,0 -4.48,-1.9425 -4.48,-4.48v-25.34c0,-6.5275 4.6375,-12.1275 11.06,-13.3zM44.8,129.92c9.9575,0 17.92,7.9625 17.92,17.92c0,9.9575 -7.9625,17.92 -17.92,17.92c-9.9575,0 -17.92,-7.9625 -17.92,-17.92c0,-9.9575 7.9625,-17.92 17.92,-17.92zM179.2,129.92c9.9575,0 17.92,7.9625 17.92,17.92c-0.0175,0.1925 -0.0175,0.3675 0,0.56c-0.2975,9.6775 -8.155,17.36 -17.92,17.36c-9.9575,0 -17.92,-7.9625 -17.92,-17.92c0,-9.9575 7.9625,-17.92 17.92,-17.92z"}})])])]),i("h1",{staticClass:"header"},[e._v("Liberty Cars")])]),i("div",{staticClass:"content"},[i("Search")],1)])},n=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.renderModelSelector?i("div",[i("div",{staticClass:"model-selector"},[i("div",{staticClass:"selection"},[0===e.adList.length?i("div",{staticClass:"instructions"},[i("p",{staticClass:"text-header"},[e._v("Looking for a new car?")]),i("p",{staticClass:"text-center"},[e._v("Fill out the search options below")])]):i("div",[i("div",{staticClass:"text-header"},[i("p",[e._v("Searching for your match...")]),i("b-spinner",{staticStyle:{color:"black",margin:"20px"}})],1)]),this.window.width>600?i("div",[i("b-container",{staticClass:"parameters"},[i("b-row",[i("b-col",[i("p",{staticClass:"label"},[e._v("model")])])],1),i("b-row",[i("b-col",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"field field-model",domProps:{value:e.model},on:{input:function(t){t.target.composing||(e.model=t.target.value)}}})])],1),i("b-row",[i("b-col",[i("p",{staticClass:"label"},[e._v("min year")])]),i("b-col",[i("p",{staticClass:"label"},[e._v("max year")])])],1),i("b-row",[i("b-col",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.minYear,expression:"minYear"}],staticClass:"field",domProps:{value:e.minYear},on:{input:function(t){t.target.composing||(e.minYear=t.target.value)}}})]),i("b-col",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.maxYear,expression:"maxYear"}],staticClass:"field",domProps:{value:e.maxYear},on:{input:function(t){t.target.composing||(e.maxYear=t.target.value)}}})])],1),i("b-row",[i("b-col",[i("p",{staticClass:"label"},[e._v("min price ($)")])]),i("b-col",[i("p",{staticClass:"label"},[e._v("max price ($)")])])],1),i("b-row",[i("b-col",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.minPrice,expression:"minPrice"}],staticClass:"field",domProps:{value:e.minPrice},on:{input:function(t){t.target.composing||(e.minPrice=t.target.value)}}})]),i("b-col",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.maxPrice,expression:"maxPrice"}],staticClass:"field",domProps:{value:e.maxPrice},on:{input:function(t){t.target.composing||(e.maxPrice=t.target.value)}}})])],1),i("b-row",[i("b-col",[i("p",{staticClass:"label"},[e._v("min miles")])]),i("b-col",[i("p",{staticClass:"label"},[e._v("max miles")])])],1),i("b-row",[i("b-col",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.minMiles,expression:"minMiles"}],staticClass:"field",domProps:{value:e.minMiles},on:{input:function(t){t.target.composing||(e.minMiles=t.target.value)}}})]),i("b-col",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.maxMiles,expression:"maxMiles"}],staticClass:"field",domProps:{value:e.maxMiles},on:{input:function(t){t.target.composing||(e.maxMiles=t.target.value)}}})])],1),i("b-row",[i("b-col",[i("button",{staticClass:"button-search",on:{click:function(t){return e.executeSearch()}}},[e._v("search")])])],1)],1)],1):i("div",[i("b-container",{staticClass:"parameters-mobile"},[i("b-row",[i("b-col",[i("p",{staticClass:"label"},[e._v("model")])])],1),i("b-row",[i("b-col",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"field-mobile field-model-mobile",domProps:{value:e.model},on:{input:function(t){t.target.composing||(e.model=t.target.value)}}})])],1),i("b-row",[i("b-col",[i("p",{staticClass:"label"},[e._v("min year")])]),i("b-col",[i("p",{staticClass:"label"},[e._v("max year")])])],1),i("b-row",[i("b-col",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.minYear,expression:"minYear"}],staticClass:"field-mobile",domProps:{value:e.minYear},on:{input:function(t){t.target.composing||(e.minYear=t.target.value)}}})]),i("b-col",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.maxYear,expression:"maxYear"}],staticClass:"field-mobile",domProps:{value:e.maxYear},on:{input:function(t){t.target.composing||(e.maxYear=t.target.value)}}})])],1),i("b-row",[i("b-col",[i("p",{staticClass:"label"},[e._v("min price ($)")])]),i("b-col",[i("p",{staticClass:"label"},[e._v("max price ($)")])])],1),i("b-row",[i("b-col",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.minPrice,expression:"minPrice"}],staticClass:"field-mobile",domProps:{value:e.minPrice},on:{input:function(t){t.target.composing||(e.minPrice=t.target.value)}}})]),i("b-col",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.maxPrice,expression:"maxPrice"}],staticClass:"field-mobile",domProps:{value:e.maxPrice},on:{input:function(t){t.target.composing||(e.maxPrice=t.target.value)}}})])],1),i("b-row",[i("b-col",[i("p",{staticClass:"label"},[e._v("min miles")])]),i("b-col",[i("p",{staticClass:"label"},[e._v("max miles")])])],1),i("b-row",[i("b-col",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.minMiles,expression:"minMiles"}],staticClass:"field-mobile",domProps:{value:e.minMiles},on:{input:function(t){t.target.composing||(e.minMiles=t.target.value)}}})]),i("b-col",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.maxMiles,expression:"maxMiles"}],staticClass:"field-mobile",domProps:{value:e.maxMiles},on:{input:function(t){t.target.composing||(e.maxMiles=t.target.value)}}})])],1),i("b-row",[i("b-col",[i("button",{staticClass:"button-search-mobile",on:{click:function(t){return e.executeSearch()}}},[e._v("search")])])],1)],1)],1),e.searchFailed?i("div",[i("p",{staticClass:"error"},[e._v("It looks like something went wrong, please try again!")])]):e._e()])])]):i("div",[i("Results",{attrs:{toDisplay:e.adList}})],1)])},l=[],o=i("e814"),c=i.n(o),m=(i("28a5"),i("b6d0")),u=i.n(m),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"results"},[e.showAllResults?i("div",[i("h2",[e._v("Check out the results below!")]),i("br"),i("div",{staticClass:"rows"},e._l(e.toDisplay,function(t){return i("ul",{key:t.id,on:{click:function(i){return e.displayAd(t)}}},[i("div",{staticClass:"outline"},[i("b-container",{staticClass:"inner"},[i("b-row",[i("b-col",[i("img",{attrs:{src:t["image"],alt:"Image",border:"2"}})])],1),i("b-row",[i("b-col",[i("p",{staticClass:"price"},[e._v(e._s(t["price"]))]),i("p",[e._v(e._s(e._f("title")(t["title"])))])])],1)],1)],1)])}),0)]):i("div",[i("div",{staticClass:"header"},[i("button",{staticClass:"btn-back",on:{click:function(t){return e.displayAd(e.currentAd)}}},[e._v("back")])]),i("div",{attrs:{align:"left"}},[i("b-container",[i("b-row",[i("b-col",[i("img",{staticClass:"single",attrs:{src:e.currentAd["image"],alt:"Image",border:"2"}}),e._l(e.currentAd["imageList"],function(t){return i("img",{key:t.id,staticClass:"thumb",attrs:{src:t,alt:"Image"},on:{click:function(i){return e.showImage(t)}}})})],2),i("b-col",[i("h5",[e._v(e._s(e.currentAd["title"]))]),i("h5",[e._v("Location")]),i("h6",[e._v(e._s(e._f("splitLocation")(e.currentAd["location"])))]),i("h5",[e._v("Date Posted")]),i("h6",[e._v(e._s(e._f("date")(e.currentAd["date"])))]),i("h5",[e._v("Price")]),i("h6",[e._v(e._s(e._f("title")(e.currentAd["price"])))]),i("br"),i("p",[e._v("Check it out "),i("a",{attrs:{href:e.currentAd["link"],target:"_blank",rel:"noopener noreferrer"}},[e._v("here")]),e._v("!")]),!1!==e.currentAd["body"]?i("p",[e._v(e._s(e.currentAd["body"]))]):e._e()])],1)],1)],1)])])},p=[],v={name:"Results",props:{toDisplay:Array},data:function(){return{showAllResults:!0,currentAd:Array}},filters:{date:function(e){return e[1]+"/"+e[2]+"/"+e[0]},lowerCase:function(e){return e.toLowerCase()},titleLower:function(e){return e.length>21?e.substring(0,22).toLowerCase()+"...":e.toLowerCase()},title:function(e){return e.length>21?e.substring(0,22)+"...":e},splitLocation:function(e){return"newjersey"===e?"New Jersey":"cnj"===e?"Central New Jersey":"jerseyshore"===e?"Jersey Shore":"southjersey"===e?"South Jersey":"delaware"===e?"Delaware":"longisland"===e?"Long Island":e}},methods:{displayAd:function(e){e["display"]?(e["display"]=!1,this.showAllResults=!0):(e["display"]=!0,this.currentAd=e,this.showAllResults=!1)},showImage:function(e){this.currentAd["image"]=e}}},f=v,h=(i("49df"),i("2877")),g=Object(h["a"])(f,d,p,!1,null,"774c32bc",null),b=g.exports,w={name:"Search",components:{Results:b},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()},destroyed:function(){window.removeEventListener("resize",this.handleResize)},data:function(){return{window:{width:0,height:0},adList:[],adTitles:new u.a,loadCount:0,renderModelSelector:!0,searchFailed:!1,maxAge:14,model:"",minYear:"",maxYear:"",minPrice:"",maxPrice:"",minMiles:"",maxMiles:""}},methods:{handleResize:function(){this.window.width=window.innerWidth,this.window.height=window.innerHeight},executeSearch:function(){for(var e=this.getUrls(),t=0;t<e.length;t++)this.getAndProcessPage(e[t],this.parseResponse,null)},getUrls:function(){var e=this.model,t=this.minYear,i=this.maxYear,a=this.minPrice,s=this.maxPrice,n=this.minMiles,r=this.maxMiles;"$bmw"===e||"$jeep"===e?(e=e.substring(1),t="2010",i="2019",a="5000",s="14000",n="50000",r="85000"):"$mercedes"!==e&&"$lexus"!==e&&"$infiniti"!==e||(e=e.substring(1),t="2010",i="2019",a="5000",s="17000",n="50000",r="85000");var l="https://cors.io/?https://",o=".craigslist.org/search/cto?auto_transmission=2&hasPic=1&min_price="+a+"&max_auto_miles="+r+"&max_price="+s+"&auto_make_model="+e+"&min_auto_miles="+n+"&max_auto_year="+i+"&min_auto_year="+t+"&auto_title_status=1",c=l+"cnj"+o,m=l+"newjersey"+o,u=l+"southjersey"+o,d=l+"jerseyshore"+o;return[m,c,u,d]},getAndProcessPage:function(e,t,i){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){var e=document.createElement("html");e.innerHTML=a.responseText,null!=t&&(null!=i?t(e,i):t(e))}},a.open("GET",e,!0),a.send(null)},parseResponse:function(e){var t=e.getElementsByClassName("rows"),i=t.item(0).getElementsByClassName("result-row");this.searchFailed=0===i.length;for(var a=0;a<i.length;a++){var s=i.item(a),n={},r=s.getElementsByTagName("p").item(0),l=r.getElementsByTagName("a").item(0).getAttribute("href"),o=l.split(".")[0].split("//")[1];if("newyork"!==o&&"philadelphia"!==o){var m=r.getElementsByClassName("result-title").item(0).innerText;if(this.adTitles.has(m))continue;this.adTitles.add(m);var u=s.getElementsByTagName("time").item(0).getAttribute("datetime"),d=u.split(" ")[0].split("-"),p=new Date,v=new Date(c()(d[0]),c()(d[1])-1,c()(d[2])),f=p-v;if(f=Math.ceil(f/864e5),f<=this.maxAge){var h=s.getElementsByClassName("result-price").item(0).innerText;n["title"]=m,n["location"]=o,n["link"]=l,n["date"]=d,n["age"]=f,n["display"]=!1,n["price"]=h,n["body"]="",n["image"]="",n["imageList"]=[],this.adList.push(n),this.getAndProcessPage("https://cors.io/?"+l,this.setImageAndInfo,n)}}}},setImageAndInfo:function(e,t){var i=e.getElementsByTagName("img");if(i.length>0){var a=i.item(0).getAttribute("src");t["image"]=a,this.loadCount++}for(var s=e.getElementsByClassName("thumb"),n=0;n<s.length;n++){var r=s.item(n).getAttribute("href");t["imageList"].push(r)}var l=e.getElementsByClassName("userbody")[0],o=l.getElementsByTagName("section")[0];t["body"]=o.innerText.substring(48)}},watch:{loadCount:function(e){e===this.adList.length&&(this.renderModelSelector=!1)}}},x=w,_=(i("dfa6"),Object(h["a"])(x,r,l,!1,null,"0f5e8f06",null)),y=_.exports,C={name:"app",components:{Search:y}},P=C,M=(i("034f"),Object(h["a"])(P,s,n,!1,null,null,null)),A=M.exports,N=i("9f7b"),k=i.n(N);i("f9e3"),i("2dd8");a["a"].use(k.a),a["a"].config.productionTip=!1,new a["a"]({modules:["bootstrap-vue/nuxt"],render:function(e){return e(A)}}).$mount("#app")},"5f9e":function(e,t,i){},"64a9":function(e,t,i){},d604:function(e,t,i){},dfa6:function(e,t,i){"use strict";var a=i("d604"),s=i.n(a);s.a}});
//# sourceMappingURL=app.4a0e6e5e.js.map